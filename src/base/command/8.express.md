---
lang: zh-CN
sidebarDepth: 2
meta:
  - name: description
    content: 个人总结的vuepress学习技术文档-语法
  - name: keywords
    content: vuepress,最新技术文档,vuepress语法,markdown语法
---

# 八.使用 Express

::: tip 前言
这里用 express 开发的 node 后端项目来制作一个 express 项目镜像并使用
:::

## 1.安装过程

### 1.1 Dockerfile

在你的后端项目的根目录下新建`Dockerfile`文件，上传到仓库中

```bash
#设置构建的基础镜像
FROM node:16.5.0
RUN mkdir -p /project/
WORKDIR /project/
COPY package.json /project/
#设置npm下载依赖来源为淘宝源
RUN npm config set registry https://registry.npm.taobao.org
RUN rm -rf node_modules && npm install -g npm && cd /project && npm install nodemon -g
#安装项目依赖
RUN npm install
COPY . /project/
#在启动镜像时执行启动项目的命令
CMD npm run dev
#暴露端口用于外部访问
EXPOSE 4000
```

### 1.2 获取镜像

- 进入项目根目录执行如下命令构建镜像

```bash
docker build -t antdpro-express .
```

### 1.3 获取容器

```bash
docker run -p 4000:3000 --name=antdpro-express  -d antdpro-express
```

- 关闭防火墙 4000 端口
- 查看[http://81.71.127.69:4000](http://81.71.127.69:4000)

## 2.其他问题

- 查看正在运行的镜像

```bash
docker ps
```

- 查看

```bash
docker images
```
