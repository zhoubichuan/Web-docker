(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{385:function(n,s,t){"use strict";t.r(s);var a=t(9),e=Object(a.a)({},(function(){var n=this,s=n.$createElement,t=n._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("h1",{attrs:{id:"nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[n._v("#")]),n._v(" nginx")]),n._v(" "),t("h2",{attrs:{id:"_1-下载镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载镜像"}},[n._v("#")]),n._v(" 1.下载镜像")]),n._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" pull nginx\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br")])]),t("h2",{attrs:{id:"_2-修改配置文件为本地"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-修改配置文件为本地"}},[n._v("#")]),n._v(" 2.修改配置文件为本地")]),n._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" run -d -p "),t("span",{pre:!0,attrs:{class:"token number"}},[n._v("80")]),n._v(":80 --name nginx nginx   "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#运行容器")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("exec")]),n._v(" -it nginx /bin/bash             "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#进入容器查看需要挂载的文件")]),n._v("\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("cp")]),n._v(" nginx:/etc/nginx/nginx.conf /etc/nginx/               "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#从容器中复制配置文件")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("cp")]),n._v(" nginx:/etc/nginx/conf.d /etc/nginx/                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#从容器中复制配置文件夹")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("cp")]),n._v(" nginx:/usr/share/nginx/html /var/nginx/               "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#从容器中复制html文件")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("cp")]),n._v(" nginx:/var/log/nginx /var/nginx/log                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#从容器中复制日志文件")]),n._v("\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" stop nginx                               "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#删除nginx容器")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("rm")]),n._v(" nginx\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("chmod")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[n._v("777")]),n._v(" /etc/nginx/nginx.conf\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br")])]),t("h2",{attrs:{id:"_3-启动镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-启动镜像"}},[n._v("#")]),n._v(" 3.启动镜像")]),n._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" run -d -p "),t("span",{pre:!0,attrs:{class:"token number"}},[n._v("80")]),n._v(":80 --name nginx --net "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("host")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("\\")]),n._v("\n -v /etc/nginx/nginx.conf:/etc/nginx/nginx.conf "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("\\")]),n._v("\n -v /etc/nginx/conf.d:/etc/nginx/conf.d "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("\\")]),n._v("\n -v /etc/nginx/cert:/etc/nginx/cert "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("\\")]),n._v("\n -v /var/nginx/html:/usr/share/nginx/html "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("\\")]),n._v("\n -v /var/nginx/log:/var/log/nginx "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("\\")]),n._v("\n -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[n._v("LANG")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v("C.UTF-8 -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[n._v("LC_ALL")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v("C.UTF-8 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("\\")]),n._v("\n --privileged"),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v("true --restart"),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v("always "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("[")]),n._v("镜像id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("]")]),n._v("\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br")])]),t("p",[n._v("说明：-e LANG=C.UTF-8 -e LC_ALL=C.UTF-8是解决nginx中文乱码")]),n._v(" "),t("p",[n._v("-d :守护式容器在后台运行")]),n._v(" "),t("p",[n._v("-p：端口映射，格式为 主机(宿主)端口:容器端口")]),n._v(" "),t("p",[n._v("-v：挂载目录")]),n._v(" "),t("p",[n._v("--privileged=true 给容器内root权限")]),n._v(" "),t("p",[n._v("--restart=always 随docker自启动")]),n._v(" "),t("p",[n._v("--net host容器将不会虚拟出自己的网卡，配置自己的IP等，而是使用宿主机的IP和端口")])])}),[],!1,null,null,null);s.default=e.exports}}]);